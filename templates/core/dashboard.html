{% extends 'base_dashboard.html' %}
{% load thumbnail %}
{% load static %}


{% block content %}
<style>
    /* main */
    #sidebar, 
    #main {
        display: flex;
        margin: 1em;
        padding: .5em;
        background-color: #4D4D4D;
    }
    /* sidebar */
    #sidebar{
        width: 20vw;
        flex-direction: column;
    }
    #profile {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-bottom: 1em;
    }
    #profile-photo img {
        background-color: #E7E3E3;
        width: 150px;
        height: 150px;
        border-radius: 50%;
        margin: 1em 0 1.5em 0;
    }
    .pry-title{
        font-size: 32px;
        font-weight: 900;
        color: white;
        text-align: center;
    }
    .sidebar_main-sections{
        color: white;
    }
    .section-division{  
        background-color: #E7E3E3;
        padding: 2px 4px 2px 12px;
        border-radius: 6px;
    }
    .sec-title{
        font-size: 32px;
        font-weight: 900;
        color: #6b6969;
    }
    #menu-sidebar{
        margin-top: 1em;
    }
    #menu-sidebar li {
        list-style: none;
        margin: 0 0 5px 30px ;
        font-size: 20px;
        gap: 5px;
    }
    /* main */
    #main {
        display: flex;
        flex-direction: column;
        padding: 0;
        width: 80vw;
    }
    .main-info{
        display: flex;
        flex-direction: row;
        width: 100%;
        justify-content: space-between;
    }
    .card-info {
        height: 15vh;
        width: 24vw;
        margin: 0 0 1.5em 0;
        background-color: #2c2b2b;
    }
    .main_sec-graph {
        display: flex;
        flex-direction: row;
        width: 100%;
        justify-content: space-between;        
    }
    .card-graph{
        height: 30vh;
        width: 37vw;
        margin: 0 0 1em 0;
        background-color: #2c2b2b;
    }
    .main_pry-graph{
        display: flex;
        flex-direction: row;
        width: 100%;
    }
    .card_pry-graph {
        height: 44vh;
        width: 100vw;
        background-color: #2c2b2b;
    }

    /* Tabela */
    #tabela-listar {
        background-color: #6b6969;
    }
    thead {
        background-color: #0b9439;
        color: white;
    }
    tbody {
        color: white;
    }

    th, td {
        padding: 5px;
        text-align: left;
        border-bottom: 1px solid #8b8a8a;
    }
    #data:hover {
        background-color: #f5f5f5;
        color: #2c2b2b;
    }
    .dataTables_filter label {
        color: #ffffff; /* Substitua pela cor desejada */
    }
    .dataTables_info {
        color: #fafafa; /* Substitua pela cor desejada */
    }
</style>
<div id="sidebar">
    <div id="profile">
        {% if user.profile.photo %}
            <div id="profile-photo">
                <img  src="{% thumbnail user.profile.photo 80x80 %}" alt="profile image">
            </div>
        {% else %}    
            <i class="fas fa-user"></i>
        {% endif %}
        <div class="profile-name">
            <h2 class="pry-title">{{ user.first_name }}</h2>
        </div>
    </div>
    <div class="sidebar_main-sections">
        <div class="section-division">
            <h2 class="sec-title">Categorias</h2>
        </div>
        <nav id="menu-sidebar">
            <li>Principal</li>
            <li>Menu do Dia</li>
            <li>Produtos</li>
            <li>Ordens</li>
            <li>Contas</li>
            <li>Configurações</li>
        </nav>
    </div>
</div>
<div id="main">
    <div class="main-info">
        <div class="card-info"></div>
        <div class="card-info"></div>
        <div class="card-info"></div>
    </div>
    <div class="main_sec-graph">
        <div class="card-graph"></div>
        <div class="card-graph"></div>
    </div>
    <div class="main_pry-graph">
        <div class="card_pry-graph">
            <h2 class="sec-title" style="color: white;">Pedidos</h2>
            <table id="tabela-listar">
                <thead>
                    <tr>
                        <th>Cliente</th>
                        <th>Data</th>
                        <th>Produtos</th>
                    </tr>
                </thead>
                
                <tbody>
                    {% for order in orders %}
                    <tr id="data">
                        <td>{{ order.client }}</td>
                        <td>{{ order.created }}</td>
                        <td>{{ order.get_product_for_order }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.datatables.net/v/bs5/jq-3.6.0/dt-1.13.3/datatables.min.js"></script>
<script>
    $(document).ready(function(){
        $("#tabela-listar").DataTable({
            "order": [[ 1, "dsc" ]],
            lengthMenu: [
                [5, 10, 15, -1],
                [5, 10, 15, 'All'],
            ],
            "oLanguage": {
                "sProcessing":   "Processando...",
                "sLengthMenu":   "_MENU_ Registros",
                "sZeroRecords":  "Não foram encontrados resultados",
                "sInfo":         "Mostrando de _START_ até _END_ de _TOTAL_ registros",
                "sInfoEmpty":    "Mostrando de 0 até 0 de 0 registros",
                "sInfoFiltered": "",
                "sInfoPostFix":  "",
                "sSearch":       "Buscar:",
                "sUrl":          "",
                "oPaginate": {
                    "sFirst":    "Primeiro",
                    "sPrevious": "Anterior",
                    "sNext":     "Seguinte",
                    "sLast":     "Último"
                }
            }
        });
    });
</script>

{% endblock content %}